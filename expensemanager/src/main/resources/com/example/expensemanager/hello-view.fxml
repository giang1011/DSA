<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<TabPane xmlns:fx="http://javafx.com/fxml" xmlns="http://javafx.com/javafx"
         fx:controller="com.example.expensemanager.Controller.IncomeController">
    <!-- Tab 1 - Main Content -->
    <Tab text="Home">
        <AnchorPane>
            <VBox spacing="20" style="-fx-padding: 20;">
                <!-- Header -->
                <HBox alignment="CENTER_RIGHT" spacing="15">
                    <Label text="Hi, Sachin" style="-fx-font-size: 18px;" />
                    <Button text="Refresh" style="-fx-font-size: 14px; -fx-background-color: #64b5f6; -fx-text-fill: white;" />
                </HBox>

                <!-- Info Cards -->
                <HBox spacing="20" alignment="CENTER">
                    <VBox prefWidth="250" prefHeight="120" style="-fx-background-color: #e8f5e9; -fx-padding: 15; -fx-border-color: lightgray; -fx-border-radius: 10; -fx-background-radius: 10;">
                        <Label text="Total Budget" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                        <Label fx:id="totalBudgetLabel" style="-fx-font-size: 20px; -fx-font-weight: bold;" />
                    </VBox>
                    <VBox prefWidth="250" prefHeight="120" style="-fx-background-color: #ffebee; -fx-padding: 15; -fx-border-color: lightgray; -fx-border-radius: 10; -fx-background-radius: 10;">
                        <Label text="Total Spend" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                        <Label fx:id="totalSpentLabel" style="-fx-font-size: 20px; -fx-font-weight: bold;" />
                    </VBox>
                    <VBox prefWidth="250" prefHeight="120" style="-fx-background-color: #e3f2fd; -fx-padding: 15; -fx-border-color: lightgray; -fx-border-radius: 10; -fx-background-radius: 10;">
                        <Label text="Total Income" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                        <Label fx:id="totalIncomeLabel" style="-fx-font-size: 20px; -fx-font-weight: bold;" />
                    </VBox>
                </HBox>

                <!-- Main Content Area -->
                <HBox spacing="25" alignment="CENTER">
                    <!-- Budget Summary -->
                    <VBox spacing="15" prefWidth="400" style="-fx-background-color: white; -fx-padding: 20; -fx-border-color: #ddd; -fx-border-radius: 10; -fx-background-radius: 10;">
                        <Label text="Budget Summary" style="-fx-font-weight: bold; -fx-font-size: 18px; -fx-padding-bottom: 10;" />
                        <VBox spacing="10">
                            <!-- Budget Items -->
                            <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-background-color: linear-gradient(to right, #4caf50, #81c784); -fx-padding: 10; -fx-border-radius: 8; -fx-background-radius: 8;" onMouseClicked="#handleHouseSummaryClick">
                                <Label text="🏠" style="-fx-font-size: 18px;" />
                                <Label text="Housing" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: white;" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label fx:id="housingBudgetLabel" text="VND 4700" style="-fx-font-size: 16px; -fx-text-fill: white;" />
                            </HBox>
                            <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-background-color: linear-gradient(to right, #f44336, #e57373); -fx-padding: 10; -fx-border-radius: 8; -fx-background-radius: 8;" onMouseClicked="#handleFoodSummaryClick">
                                <Label text="🍴" style="-fx-font-size: 18px;" />
                                <Label text="Food" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: white;" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label fx:id="foodBudgetLabel" text="VND 1000" style="-fx-font-size: 16px; -fx-text-fill: white;" />
                            </HBox>
                            <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-background-color: linear-gradient(to right, #2196f3, #64b5f6); -fx-padding: 10; -fx-border-radius: 8; -fx-background-radius: 8;" onMouseClicked="#handleTransportationSummaryClick">
                                <Label text="🚗" style="-fx-font-size: 18px;" />
                                <Label text="Transportation" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: white;" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label fx:id="transportationBudgetLabel" text="VND 49460" style="-fx-font-size: 16px; -fx-text-fill: white;" />
                            </HBox>
                            <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-background-color: linear-gradient(to right, #ff9800, #ffb74d); -fx-padding: 10; -fx-border-radius: 8; -fx-background-radius: 8;" onMouseClicked="#handleUtilitiesSummaryClick">
                                <Label text="💡" style="-fx-font-size: 18px;" />
                                <Label text="Utilities" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: white;" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label fx:id="utilitiesBudgetLabel" text="VND 4500" style="-fx-font-size: 16px; -fx-text-fill: white;" />
                            </HBox>

                            <HBox spacing="20" alignment="CENTER_LEFT" style="-fx-background-color: linear-gradient(to right, #9c27b0, #ba68c8); -fx-padding: 10; -fx-background-radius: 10;"
                                  onMouseClicked="#handleHealthcareSummaryClick">
                                <Label text="❤️" style="-fx-font-size: 18px;" />
                                <Label text="Healthcare" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #ffffff;" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label fx:id="healthcareBudgetLabel" text="VND 1000" style="-fx-font-size: 16px; -fx-text-fill: #ffffff;" />
                            </HBox>
                            <HBox spacing="20" alignment="CENTER_LEFT" style="-fx-background-color: linear-gradient(to right, #3f51b5, #7986cb); -fx-padding: 10; -fx-background-radius: 10;"
                                  onMouseClicked="#handleEntertainmentSummaryClick">
                                <Label text="🎉" style="-fx-font-size: 18px;" />
                                <Label text="Entertainment" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #ffffff;" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label fx:id="entertainmentBudgetLabel" text="VND 2700" style="-fx-font-size: 16px; -fx-text-fill: #ffffff;" />
                            </HBox>

                        </VBox>
                    </VBox>

                    <!-- Add to Income -->
                    <VBox spacing="20" prefWidth="350" style="-fx-background-color: #f1f8e9; -fx-padding: 20; -fx-border-color: lightgray; -fx-border-radius: 10; -fx-background-radius: 10;">
                        <Label text="Add to Income" style="-fx-font-weight: bold; -fx-font-size: 18px;" />
                        <Button text="+" style="-fx-font-size: 20px;" onAction="#handleAddIncome" />

                        <Label text="Recent Income" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                        <TableView fx:id="recentIncomeTable">
                            <columns>
                                <TableColumn fx:id="amountColumn" text="Amount" />
                                <TableColumn fx:id="dateColumn" text="Date" />
                                <TableColumn fx:id="recordColumn" text="Record" />
                            </columns>
                        </TableView>
                    </VBox>

                    <VBox spacing="15" prefWidth="340" style="-fx-background-color: #ffebee; -fx-padding: 20; -fx-border-color: lightgray; -fx-border-radius: 10; -fx-background-radius: 10;">
                        <Label text="Spending History" style="-fx-font-weight: bold; -fx-font-size: 18px; -fx-padding-bottom: 10;" />

                        <!-- Label for total spent -->
                        <!--                    <Label fx:id="totalSpentLabel" text="Total Spent: $0.00" style="-fx-font-size: 14px; -fx-font-weight: bold;" />-->

                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Button text="+" style="-fx-font-size: 18px;" onAction="#handleAddExpense" />
<!--                            <Button fx:id="sortAscButton" text="Sort Ascending" onAction="#handleSortAsc"/>-->
<!--                            <Button fx:id="sortDescButton" text="Sort Descending" onAction="#handleSortDesc"/>-->
                        </HBox>

                        <Label text="Recent Spendings" style="-fx-font-weight: bold; -fx-font-size: 16px;" />
                        <TableView fx:id="recentExpenseTable" prefHeight="200" prefWidth="600">
                            <columns>
                                <TableColumn fx:id="expenseCategoryColumn" text="Category" />
                                <TableColumn fx:id="expenseNameColumn" text="Expense Name" />
                                <TableColumn fx:id="expenseAmountColumn" text="Amount" />
                                <TableColumn fx:id="expenseDateColumn" text="Date" />
                            </columns>
                        </TableView>
                    </VBox>

                </HBox>
            </VBox>
        </AnchorPane>
    </Tab>

    <!-- Tab 2 - Report -->
    <Tab text="Report">
        <AnchorPane>
            <VBox spacing="20" alignment="CENTER" style="-fx-padding: 20; -fx-background-color: #fafafa;">

                <!-- Title Section -->
                <HBox spacing="15" alignment="CENTER" style="-fx-background-color: #64b5f6; -fx-padding: 10; -fx-border-radius: 8; -fx-background-radius: 8;">
                    <Label text="Report" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                </HBox>

                <!-- BarChart with custom styles -->
                <VBox alignment="CENTER" spacing="20">
                    <BarChart fx:id="budgetChart" prefWidth="600" prefHeight="400" legendVisible="false" style="-fx-background-color: #ffffff; -fx-border-radius: 8;">
                        <xAxis>
                            <CategoryAxis fx:id="xAxis"/>
                        </xAxis>
                        <yAxis>
                            <NumberAxis fx:id="yAxis"/>
                        </yAxis>
                    </BarChart>

                    <!-- ComboBox for selecting months -->
                    <ComboBox fx:id="monthComboBox" promptText="Select Month" style="-fx-pref-width: 200; -fx-padding: 5;"/>
                </VBox>

            </VBox>
        </AnchorPane>
    </Tab>

</TabPane>
